includes:
    - vendor/phpstan/phpstan/conf/bleedingEdge.neon

parameters:
    level: 8
    paths:
        - .
    excludePaths:
        - vendor/
        - node_modules/
        - theme-bundle/ (?)
        # - assets/vendor/
        # - .claude
    bootstrapFiles:
        # wordpress-stubs loaded automatically by szepeviktor/phpstan-wordpress
        - vendor/php-stubs/acf-pro-stubs/acf-pro-stubs.php
        - vendor/php-stubs/gravity-forms-stubs/gravity-forms-stubs.php
        - vendor/php-stubs/wordpress-seo-stubs/wordpress-seo-stubs.php
    
    # WordPress-specific settings
    treatPhpDocTypesAsCertain: false  # ACF and WordPress functions often have incorrect PHPDocs

    # Minimal ignores - only for unfixable WordPress patterns
    ignoreErrors:
        # WordPress loop pattern: while($query->have_posts()) is intentional
        - '#While loop condition is always true#'
        - '#Unreachable statement - code above always terminates#'

    # Report unmatched ignores to keep this list clean
    reportUnmatchedIgnoredErrors: true
    
    # Disable parallel processing completely
    parallel:
        maximumNumberOfProcesses: 1
    
    # WordPress-specific type hints
    universalObjectCratesClasses:
        - WP_Post
        - WP_Term
        - WP_User
        - WP_Query
        - WP_Comment
        - WP_Error
        - stdClass  # Often returned by $wpdb->get_row()